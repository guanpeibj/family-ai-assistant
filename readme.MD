# 家庭ai助手（FAA）构想和规划

我计划自己开发一款ai应用，应用的名字是“ai家庭助手”(family ai assistant，简称FAA) 。作为个人项目，希望快速实现，逻辑 简单直接，同时以扩展，方便后来扩展。

## 主要作用

主要给我和我妻子使用，解决我家的实际需求：孩子多、杂事多，需要ai作为助理帮我们记忆、整理和提醒。整体来说，FAA的作用是，智能地接收、储存我的家庭信息，并智能地分析家庭信息、做出反馈，以及智能地提醒。FAA通过Threema robbot、邮件、微信公众号/小程序的方式，和我以及我妻子沟通。在Threema 中，我已经为FFA准备了一个账号，FFA可以作为一个虚拟个体，在我和我妻子的家庭群中，和我们沟通。 

FFA 会作为我送给妻子的生日礼物，她操劳家务，独自带3个孩子，希望这个应用实实在在地帮助她。离生日不剩几天了，希望几天内做完。

## 具体使用举例

1. 家庭记账和财务方面

比如我们从Threema的对话框，向FAA告知“今天吃饭花了30”，或发给他一个购物截图，FAA提取信息，更新记忆，并给出一定程度的统计分析和反馈，比如“已记住了，这个月吃饭花费已经支出1029元了，请注意，这个月吃饭的花费已经超过同期预算的30%”，甚至给出一张简单的图表说明。 比如我们提问“这个月为什么多花了这么多钱/ 近半年家庭财务有哪些我们需要注意的方面？”，FAA需要分析问题，决定如何从记忆中提取信息，并整理和回复，可以是文字或表格或图片式的财务简报。也希望每月给出一个月度财务简报。

2. 家庭成员健康方面

比如我通过threema/邮件，告知FAA“我的儿子今天身高是90cm，帮我记录”，当我说，“统计儿子身高体重变化趋势”，FAA会查出我儿子所有身高体重，列出一个曲线变化图。比如我会向FFA发送每次体检照片，FAA应该简单回应。如果我在咨询某个家庭成员的健康问题，FAA应该基于此成员过去相关的健康信息，给出针对这个家庭成员的健康建议。

3. 家庭杂事和提醒方面

FFA应该支持 记忆和查询 家庭成员基本信息、家庭全年 日程安排等，也支持提醒功能。比如“请记一下，下个月3号我需要给二女儿打疫苗，大女儿是10号打，提前一天提醒我” ，或者，“每天早上提醒我给孩子吃维生素A”。FAA会存储相关信息，并在指定时间完成“提醒”的动作（就是发送一条threema信息或一封邮件）。也应当处理信息变更，比如“帮我记录：我把大门钥匙放在沙发的垫子下面了”或“我家的wifi密码是123456”，后来我说“大门钥匙放到衣柜上面了。”FAA能自动更新。

4. 可能还包括其他方面，留够扩展可能，比如查询web功能，留够扩展可能，后续在考虑

## 主要构成（暂时想到的，需调整优化补充）

1. 重点：FAA应该包括一个家庭专属的信息库，以适合ai 读/存的形式 来管理我们的日常信息，包括家庭财务收支明细、家庭成员健康信息、家庭其他杂事、以及其他家庭信息。
这个信息库的数据模块儿设计是一个重点，要重点设计。我希望这个信息库应该是ai驱动的，尽量不做或少做预设的数据模型，尽量使用比较扁平的元数据模型。这样方便后续扩展，会使得 FAA随着 ai智能提升，会有更大扩展空间。比如 存储结构可以动态演化，AI自主发现数据间的关联。
但是，其中需要精确计算、统计的数据，我使用关系型数据库来处理？比如家庭账目和家人健康信息（孩子某个日期的身高等等），这样可以准确又直接地存储和查询目标结果。
是否需要这两者结合？主要是使用扁平的元数据格式，但对于特别精确地一些结果，比如一部分健康信息或家庭账目信息等，再使用关系数据库的表格式存一份？
或许需要一份初始化信息，我可以提供一份家庭成员详细情况，作为初始化时的信息？
总之，信息库的设计是最重点的一部分，需要你给出详细可靠的建议。
2. FAA应该包括一个可以接LLM api的组件，可能访问openai api / claude api / gemini api 等。由ai来决定这些重要问题：解析我和妻子的命令、是否存信息库以及如何存、是否查信息库以及如何查、已获得的信息如何给我们反馈。以上这些，尽量都交由ai决定，尽量少由代码和工程预定逻辑。
3. FFA 应该提供多种和 我们交互的方式，包括：Threema robbot 和 邮件，后续支持微信小程序、微信公众号、或是其他。FAA会作为我们的Threema的一个共同好友，和我、我妻子在一个群里，以对话形式沟通，也有一个专门的邮箱，我们也可以以邮件形式沟通。
FAA 接收的内容格式支持文字、图片、语音等，FAA回复的格式目前支持文字/图片/表格等。
4. FAA或许可以使用MCP技术，使用一个（或多个）MCP server，用docker-compose管理。或许考虑在信息库外层，封装一个MCP server，专门负责 管理 信息库？ 可以考虑。

## 主要技术（如果你有其他推荐，可以提出）

python 3.12.11，openai 1.90.0，uv，MCP，PostgreSQL + pgvector， FastAPI

成本考虑，暂定都部署在 一个linux 云服务器，使用docker-compose管理，使用cursor开发，使用anysphere.remote-containers扩展来开发

应该具备简单的CICD能力，项github仓库提交代码，应该支持一键部署到目标云服务器，节省时间。

## 其他

项目在github上的地址是：https://github.com/guanpeibj/family-ai-assistant

总之，我希望FFA是一款 由ai驱动、尽量减少工程预设的、实在有用的ai应用。开发要求是，简单直接实现、便于理解、留够扩展可能 但不要过度设计。可以在几天内快速完成第一个版本。