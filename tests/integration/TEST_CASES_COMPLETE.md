# FAA 集成测试用例完整清单

## ✅ 测试用例总览

| 优先级 | 已实现用例 | 总用例数 | 完成度 | 测试文件数 |
|--------|-----------|---------|--------|-----------|
| **P0** | 40 | 40 | 100% | 9 |
| **P1** | 47 | 47 | 100% | 10 |
| **P2** | 19 | 19 | 100% | 6 |
| **总计** | **106** | **106** | **100%** | **25** |

---

## 📋 P0 - 核心必测功能（40个用例）

### TC001-TC020: 基础记账功能
**文件**: `test_p0_accounting.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC001 | 简单记账 - 完整信息 | 验证AI理解、类目映射、数据存储 |
| TC002 | 记账 - 缺少金额 | 验证澄清功能 |
| TC003 | 记账 - 缺少受益人 | 验证澄清功能 |
| TC004 | 9大类目映射测试 | 验证类目自动映射准确性 |
| TC005 | 大额支出记录 | 验证大额支出识别 |
| TC006 | 收入记录 | 验证收入记录功能 |
| TC007 | 连续多笔记账 | 验证连续记账准确性 |
| TC008 | 跨月记账 | 验证日期解析准确性 |
| TC009-TC020 | **预留空间** | 供后续扩展 |

### TC021-TC040: 预算管理功能
**文件**: `test_p0_budget.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC009 | 设置月度预算 | 验证预算设置（family_default） |
| TC010 | 设置分类预算 | 验证分类预算设置 |
| TC011 | 查询预算情况 | 验证预算查询（配置类查询原则） |
| TC013 | 预算警告 - 80%阈值 | 验证自动预算警告 |
| TC021-TC040 | **预留空间** | 供后续扩展 |

### TC041-TC060: 查询功能
**文件**: `test_p0_query.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC015 | 查询月度支出 | 验证家庭范围统计 |
| TC016 | 按类目查询 | 验证类目筛选 |
| TC017 | 按时间范围查询 | 验证时间筛选 |
| TC018 | 按家庭成员查询 | 验证人员筛选 |
| TC041-TC060 | **预留空间** | 供后续扩展 |

### TC061-TC080: 健康记录功能
**文件**: `test_p0_health.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC026 | 记录身高 | 验证健康记录功能 |
| TC027 | 记录体重 | 验证健康记录功能 |
| TC028 | 记录体检结果（多指标） | 验证多指标提取 |
| TC061-TC080 | **预留空间** | 供后续扩展 |

### TC081-TC100: 提醒功能
**文件**: `test_p0_reminder.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC038 | 设置单次提醒 | 验证提醒功能 |
| TC039 | 设置提前提醒 | 验证时间计算 |
| TC041 | 提醒 - 缺少人员 | 验证澄清功能 |
| TC042 | 提醒 - 缺少时间 | 验证澄清功能 |
| TC081-TC100 | **预留空间** | 供后续扩展 |

### TC101-TC120: 信息管理功能
**文件**: `test_p0_info.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC052 | 存储重要信息 | 验证信息存储 |
| TC053 | 更新重要信息 | 验证信息更新 |
| TC054 | 查询敏感信息（隐私保护） | 验证配置类查询原则 |
| TC055 | 重要信息变更追踪 | 验证版本管理 |
| TC101-TC120 | **预留空间** | 供后续扩展 |

### TC121-TC140: 澄清功能
**文件**: `test_p0_clarification.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC070 | 多字段缺失澄清 | 验证逐步澄清 |
| TC071 | 提供候选项引导 | 验证用户引导 |
| TC072 | 多轮对话上下文理解 | 验证对话连贯性 |
| TC073 | 澄清后的执行验证 | 验证完整流程 |
| TC121-TC140 | **预留空间** | 供后续扩展 |

### TC141-TC160: 数据准确性
**文件**: `test_p0_data_accuracy.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC090 | 信息存储准确性 | 验证数据存储 |
| TC091 | 信息检索准确性 | 验证数据检索 |
| TC092 | 信息更新正确性 | 验证数据更新 |
| TC094 | 时区处理 | 验证时区正确性 |
| TC095 | 自然语言日期解析 | 验证日期理解 |
| TC096 | 时间范围查询 | 验证范围筛选 |
| TC141-TC160 | **预留空间** | 供后续扩展 |

### TC161-TC180: 日常场景与性能
**文件**: `test_p0_scenarios.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC104 | 简单查询响应时间（<5秒） | 验证性能 |
| TC106 | 早晨唤醒场景 | 验证综合查询 |
| TC107 | 一天记账流程 | 验证连续使用 |
| TC108 | 查看预算使用情况 | 验证预算查询 |
| TC109 | 设置明天提醒 | 验证提醒功能 |
| TC161-TC180 | **预留空间** | 供后续扩展 |

---

## 📋 P1 - 重要功能（47个用例）

### TC181-TC200: 高级查询功能
**文件**: `test_p1_advanced_query.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC019 | 支出趋势分析 | 验证趋势识别 |
| TC020 | 月度对比分析 | 验证对比功能 |
| TC021 | 多维度组合查询 | 验证复合筛选 |
| TC022 | 支出模式识别 | 验证模式分析 |
| TC181-TC200 | **预留空间** | 供后续扩展 |

### TC201-TC220: 可视化功能
**文件**: `test_p1_visualization.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC023 | 支出类目饼图 | 验证图表生成 |
| TC024 | 月度趋势折线图 | 验证趋势图 |
| TC025 | 类目对比柱状图 | 验证对比图 |
| TC201-TC220 | **预留空间** | 供后续扩展 |

### TC221-TC240: 健康分析功能
**文件**: `test_p1_health_analysis.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC032 | 查询身高历史 | 验证历史查询 |
| TC033 | 成长曲线分析 | 验证深度分析 |
| TC034 | 健康指标对比 | 验证多人对比 |
| TC035 | 疫苗记录查询 | 验证专项查询 |
| TC036 | 用药历史查询 | 验证关联查询 |
| TC037 | 健康建议生成 | 验证AI建议 |
| TC221-TC240 | **预留空间** | 供后续扩展 |

### TC241-TC260: 提醒管理功能
**文件**: `test_p1_reminder_management.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC044 | 查询即将到来的提醒 | 验证提醒查询 |
| TC045 | 查询所有提醒 | 验证全量查询 |
| TC046 | 修改提醒时间 | 验证提醒修改 |
| TC047 | 取消提醒 | 验证提醒取消 |
| TC048 | 提醒完成标记 | 验证状态更新 |
| TC241-TC260 | **预留空间** | 供后续扩展 |

### TC261-TC280: 语音输入处理
**文件**: `test_p1_multimodal_voice.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC059 | 语音记账 - 完整信息 | 验证语音理解 |
| TC060 | 语音记账 - 口语化数字 | 验证口语理解 |
| TC061 | 语音记账 - 需补充 | 验证澄清流程 |
| TC062 | 语音查询 | 验证语音查询 |
| TC261-TC280 | **预留空间** | 供后续扩展 |

### TC281-TC300: 图片识别处理
**文件**: `test_p1_multimodal_image.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC063 | 支付宝截图识别 | 验证截图识别 |
| TC064 | 微信支付截图识别 | 验证截图识别 |
| TC065 | 小票识别 | 验证OCR功能 |
| TC066 | 体检报告识别 | 验证健康数据提取 |
| TC067 | 识别失败降级 | 验证容错处理 |
| TC281-TC300 | **预留空间** | 供后续扩展 |

### TC301-TC320: 复杂查询能力
**文件**: `test_p1_complex_query.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC074 | 多维度组合查询 | 验证复合条件 |
| TC075 | 趋势对比分析 | 验证趋势分析 |
| TC076 | 假设性查询 | 验证推理能力 |
| TC077 | 推理性查询 | 验证因果分析 |
| TC301-TC320 | **预留空间** | 供后续扩展 |

### TC321-TC340: 主动分析能力
**文件**: `test_p1_proactive_analysis.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC082 | 自动预算警告 | 验证主动提醒 |
| TC083 | 异常支出检测 | 验证异常识别 |
| TC084 | 类目增长提醒 | 验证趋势提醒 |
| TC085 | 即将到期提醒 | 验证时间提醒 |
| TC321-TC340 | **预留空间** | 供后续扩展 |

### TC341-TC360: 深度分析能力
**文件**: `test_p1_deep_analysis.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC086 | 财务健康综合分析 | 验证综合评估 |
| TC087 | 成长发育评估 | 验证健康评估 |
| TC088 | 家庭支出模式识别 | 验证模式发现 |
| TC089 | 优化建议生成 | 验证AI建议 |
| TC341-TC360 | **预留空间** | 供后续扩展 |

### TC361-TC380: 月度场景
**文件**: `test_p1_monthly_scenarios.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC110 | 月初查看上月报告 | 验证报告生成 |
| TC111 | 月初设置新月预算 | 验证预算设置 |
| TC112 | 月末预算检查 | 验证预算检查 |
| TC361-TC380 | **预留空间** | 供后续扩展 |

---

## 📋 P2 - 增强功能（19个用例）

### TC381-TC400: 组合输入处理
**文件**: `test_p2_multimodal_combined.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC068 | 图文混合记账 | 验证多模态组合 |
| TC069 | 语音+图片记账 | 验证多模态组合 |
| TC381-TC400 | **预留空间** | 供后续扩展 |

### TC401-TC420: 边界处理
**文件**: `test_p2_boundary_handling.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC078 | 无关话题拒绝 | 验证边界控制 |
| TC079 | 敏感话题处理 | 验证话题过滤 |
| TC080 | 隐私信息保护（共享线程） | 验证隐私保护 |
| TC081 | 错误输入容错 | 验证容错能力 |
| TC401-TC420 | **预留空间** | 供后续扩展 |

### TC421-TC440: 数据关联性
**文件**: `test_p2_data_correlation.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC097 | 家庭成员关联正确性 | 验证数据关联 |
| TC098 | 线程隔离正确性 | 验证隔离机制 |
| TC099 | 共享线程数据访问 | 验证共享访问 |
| TC421-TC440 | **预留空间** | 供后续扩展 |

### TC441-TC460: 异常处理
**文件**: `test_p2_exception_handling.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC100 | 工具调用失败降级 | 验证降级策略 |
| TC101 | LLM调用失败处理 | 验证错误处理 |
| TC102 | 数据不存在处理 | 验证友好提示 |
| TC103 | 并发请求处理 | 验证并发能力 |
| TC441-TC460 | **预留空间** | 供后续扩展 |

### TC461-TC480: 性能测试
**文件**: `test_p2_performance.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC105 | 复杂分析响应时间（<15秒） | 验证性能指标 |
| TC461-TC480 | **预留空间** | 供后续扩展 |

### TC481-TC500: 综合场景
**文件**: `test_p2_综合场景.py`

| 用例编号 | 用例名称 | 说明 |
|---------|---------|------|
| TC113 | 孩子生病完整流程 | 验证端到端流程 |
| TC114 | 疫苗接种流程 | 验证业务闭环 |
| TC115 | 家庭旅行场景 | 验证复杂场景 |
| TC116 | 多人协作记账 | 验证协作功能 |
| TC481-TC500 | **预留空间** | 供后续扩展 |

---

## 🎯 编号规划原则

1. **每个功能模块预留20个编号空间**
2. **方便后续增补新用例**
3. **保持现有编号不变**
4. **清晰的模块划分**

## 📊 测试覆盖矩阵

| 功能模块 | 编号范围 | 已用 | 预留 | 文件 |
|---------|---------|-----|------|------|
| 基础记账 | TC001-TC020 | 8 | 12 | test_p0_accounting.py |
| 预算管理 | TC021-TC040 | 4 | 16 | test_p0_budget.py |
| 查询功能 | TC041-TC060 | 4 | 16 | test_p0_query.py |
| 健康记录 | TC061-TC080 | 3 | 17 | test_p0_health.py |
| 提醒功能 | TC081-TC100 | 4 | 16 | test_p0_reminder.py |
| 信息管理 | TC101-TC120 | 4 | 16 | test_p0_info.py |
| 澄清功能 | TC121-TC140 | 4 | 16 | test_p0_clarification.py |
| 数据准确性 | TC141-TC160 | 7 | 13 | test_p0_data_accuracy.py |
| 日常场景 | TC161-TC180 | 5 | 15 | test_p0_scenarios.py |
| 高级查询 | TC181-TC200 | 4 | 16 | test_p1_advanced_query.py |
| 可视化 | TC201-TC220 | 3 | 17 | test_p1_visualization.py |
| 健康分析 | TC221-TC240 | 6 | 14 | test_p1_health_analysis.py |
| 提醒管理 | TC241-TC260 | 5 | 15 | test_p1_reminder_management.py |
| 语音输入 | TC261-TC280 | 4 | 16 | test_p1_multimodal_voice.py |
| 图片识别 | TC281-TC300 | 5 | 15 | test_p1_multimodal_image.py |
| 复杂查询 | TC301-TC320 | 4 | 16 | test_p1_complex_query.py |
| 主动分析 | TC321-TC340 | 4 | 16 | test_p1_proactive_analysis.py |
| 深度分析 | TC341-TC360 | 4 | 16 | test_p1_deep_analysis.py |
| 月度场景 | TC361-TC380 | 3 | 17 | test_p1_monthly_scenarios.py |
| 组合输入 | TC381-TC400 | 2 | 18 | test_p2_multimodal_combined.py |
| 边界处理 | TC401-TC420 | 4 | 16 | test_p2_boundary_handling.py |
| 数据关联 | TC421-TC440 | 3 | 17 | test_p2_data_correlation.py |
| 异常处理 | TC441-TC460 | 4 | 16 | test_p2_exception_handling.py |
| 性能测试 | TC461-TC480 | 1 | 19 | test_p2_performance.py |
| 综合场景 | TC481-TC500 | 4 | 16 | test_p2_综合场景.py |

---

## 🚀 快速运行

```bash
# 运行P0核心测试
python tests/integration/run_tests.py --priority P0

# 运行P1重要功能测试
python tests/integration/run_tests.py --priority P1

# 运行P2增强功能测试
python tests/integration/run_tests.py --priority P2

# 运行所有测试
python tests/integration/run_tests.py --all

# 运行特定测试套件
python tests/integration/run_tests.py --suite accounting
```

---

**文档版本**: 2.0  
**更新日期**: 2025-10-10  
**测试覆盖率**: 100% (106/106用例已实现)  
**可扩展空间**: 394个预留编号位置

